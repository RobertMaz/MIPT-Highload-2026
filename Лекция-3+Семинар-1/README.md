# Атрибуты качества + Работа с требованиями

> Материалы для подготовки к лекции №3 и семинару №1

---

## Что почитать

Прочитать до лекции.

### К лекции 3: Атрибуты качества

| # | Что читать                                                                                                                | Зачем                                                                                   |
|---|---------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| 1 | [SLI, SLO, SLA — Google SRE Book, Ch.4](https://sre.google/sre-book/service-level-objectives/)                            | Как формулировать требования к надёжности измеримо, а не "система должна быть быстрой"  |
| 2 | [Как нефункциональные требования влияют на архитектуру — Хабр/МТС](https://habr.com/ru/companies/ru_mts/articles/794232/) | Наглядная эволюция архитектуры: от простой схемы к микросервисам по мере добавления НФТ |

### Повторение (из лекций 1–2)

> Если не читали к прошлой лекции — прочитайте сейчас. Пригодится на семинаре.

| # | Что читать                                                                                                           | Зачем                                                                                                  |
|---|----------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| 3 | [MonolithFirst — Martin Fowler](https://martinfowler.com/bliki/MonolithFirst.html)                                   | Почему начинать с микросервисов — почти всегда ошибка                                                  |
| 4 | [The Twelve-Factor App](https://12factor.net/ru/)                                                                    | 12 принципов, которые делают приложение готовым к масштабированию (особенно VI: Processes — stateless) |
| 5 | [8 Fallacies of Distributed Computing — Wikipedia](https://en.wikipedia.org/wiki/Fallacies_of_distributed_computing) | 8 ошибочных предположений о сети, которые ломают распределённые системы                             |
| 6 | [Circuit Breaker — Martin Fowler](https://martinfowler.com/bliki/CircuitBreaker.html)                                | Паттерн предотвращения каскадных отказов: как не положить всю систему из-за одного упавшего сервиса |

---

## Анализ архитектурной значимости

НФТ архитектурно-значимое, если 2 из 3 критериев = High:

| Критерий                      | High                                   | Medium                    | Low                  |
|-------------------------------|----------------------------------------|---------------------------|----------------------|
| Влияние на структуру (Impact) | Меняет фундамент (репликация, шардинг) | Меняет компоненты         | Конфигурация         |
| Стоимость изменения (Cost)    | Нельзя добавить потом                  | Дорого рефакторить        | Можно добавить позже |
| Бизнес-риск (Risk)            | Потеря лицензии / бизнеса              | Потеря клиентов / revenue | Жалобы               |

Пример: Доступность (Availability) 99.95% для банка — Impact High, Cost High, Risk High → 3/3, архитектурный приоритет.

---

## Формула пикового RPS

```
Peak RPS = (DAU × Requests_per_user × Peak_coefficient) / (Peak_hours × 3600)
```

Пример: банк, день зарплаты — `(50K × 5 × 3) / (4 × 3600) = 52 RPS`

---

## Подготовка к семинару 1

Вы получите неполное описание реальной highload-системы. Задачи:

1. Описать ключевые ФТ/НФТ
2. Сформулировать НФТ измеримо — в формате `SLI + оператор + SLO + условия`
3. Оценить архитектурную значимость каждого НФТ
4. Рассчитать пиковый RPS — по формуле выше
5. Составить бюджет задержки (latency budget) для 1 критичного пути
6. Найти недостающие требования — что забыли? какие вопросы задать заказчику?

Шаблон: [Шаблон документа требований](https://github.com/RobertMaz/MIPT-Highload-2026/blob/main/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D1%8F-3%2B%D0%A1%D0%B5%D0%BC%D0%B8%D0%BD%D0%B0%D1%80-1/Requirements-Template.md)

---

## Дополнительные материалы

По желанию:

- [ATAM — SEI](https://www.sei.cmu.edu/documents/629/2000_005_001_13706.pdf) — полноценный метод анализа архитектурных компромиссов
- [Capacity Planning for Web Apps — Kir Shatrov](https://kirshatrov.com/posts/capacity-planning-for-web-apps/) — практический подход к оценке нагрузки
- [CAP Theorem — Wikipedia](https://en.wikipedia.org/wiki/CAP_theorem) — компромиссы распределённых систем (подробно на Л8)
