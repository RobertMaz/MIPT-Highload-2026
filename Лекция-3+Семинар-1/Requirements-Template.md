# Шаблон документа требований

> Шаблон для документирования требований к highload-системе
>
> Использовать для: Семинар С1, Домашнее задание

**Scope:**
- **На семинаре С1:** заполняйте разделы 1–4 (бизнес-цели, ФТ, НФТ, расчёт нагрузки)
- **В ДЗ 1:** заполняйте ВСЕ разделы (включая 5–7: хранилище, допущения, риски)

---

# Requirements Document: [Название системы]

## 1. Бизнес-цели

**Домен:** [например "Финтех / Платёжный процессинг"]
**Бизнес-модель:** B2C / B2B / B2B2C
**Целевая аудитория:** [кто пользователи, сколько их]
**Регионы:** [например "РФ, СНГ" или "Global"]

**Главная цель:**

- [Описание бизнес-цели]

**Ключевые метрики:**

- [Метрика 1, например "1M активных пользователей через 1 год"]
- [Метрика 2, например "$10M revenue через 6 месяцев"]

---

## 2. Функциональные требования (ФТ)

### ФТ-001: [Название функции]

**Приоритет:** High / Medium / Low

**Описание:**

- Как [роль], я хочу [действие], чтобы [цель/выгода]

**Критерии приёмки:**

- [ ] Критерий 1
- [ ] Критерий 2

---

## 3. Нефункциональные требования (НФТ)

### НФТ-001: [Название, например "Производительность — задержка (Latency)"]

**SLI (что измеряем):** [например "p95 задержка GET /api/products"]
**SLO (целевое значение):** [например "< 200ms при 10K concurrent users"]

**Оценка архитектурной значимости:**

- **Влияние на структуру (Impact):** High/Medium/Low — [почему]
- **Стоимость изменения (Cost of Change):** High/Medium/Low — [почему]
- **Бизнес-риск (Business Risk):** High/Medium/Low — [почему]

**Архитектурно-значимый:** Да/Нет (2+ из 3 = High?)

> Добавляйте по аналогии: доступность (Availability), масштабируемость (Scalability), сохранность данных (Durability) и т.д.

---

## 4. Расчёт нагрузки

**Соотношение чтение/запись:** [например "90/10" или "60/40"]

**Текущее состояние:**

- DAU: [число]
- Средний RPS: [расчёт]

### Пиковый сценарий: [Название, например "День зарплаты"]

**Дано:**

- Пиковый DAU: [число]
- Запросов на пользователя: [число]
- Пиковый коэффициент: [число]x
- Пиковые часы: [часы]

**Расчёт пикового RPS:**

```
Peak RPS = (DAU × Req/user × Peak_coef) / (Peak_hours × 3600)
         = ([DAU] × [req] × [coef]) / ([hours] × 3600)
         = [результат] RPS
```

### Бюджет задержки (Latency Budget)

**Endpoint:** [например "POST /api/transfer"]
**SLO:** [например "p95 < 500ms"]

| Компонент              | Задержка (мс)        | Комментарий       |
|------------------------|----------------------|-------------------|
| [компонент 1]          | [число]              | [источник оценки] |
| [компонент 2]          | [число]              |                   |
| [компонент 3]          | [число]              |                   |
| **ИТОГО**              | **[сумма]**          |                   |
| **Буфер (30%)**        | **[число]**          |                   |
| **С БУФЕРОМ**          | **[сумма]**          |                   |
| **Остаток от SLO**     | **[SLO - сумма]**    | ✅ / ❌             |

**Узкое место (Bottleneck):** [какой компонент доминирует и что с этим делать]

---

## 5. Данные и хранилище

> *На семинаре С1 — пропустите. Заполняйте в ДЗ 1.*

- Текущий объём: [например "500 GB"]
- Прирост: [например "~2 GB/день"]
- Консистентность: Strong / Eventual — [почему]

---

## 6. Допущения

> *На семинаре С1 — заполните только "Вопросы заказчику". Полный список — в ДЗ 1.*

**Что предполагаем:**

1. [Предположение 1]
2. [Предположение 2]

**Что нужно уточнить у заказчика:**

1. [Вопрос 1]
2. [Вопрос 2]

---

## 7. Риски

> *На семинаре С1 — пропустите. Заполняйте в ДЗ 1.*

| Тип          | Риск                           | Вероятность     | Влияние         | Митигация                      |
|--------------|--------------------------------|-----------------|-----------------|--------------------------------|
| Технический  | [например "единая точка отказа"] | High/Medium/Low | High/Medium/Low | [например "репликация, балансировщик"] |
| Операционный | [например "нет отката"]        | High/Medium/Low | High/Medium/Low | [например "blue-green deploy"] |
